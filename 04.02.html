<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ejercicios Arrays y Matrices</title>
<style>
    body { font-family: Arial; padding: 20px; }
    h2 { margin-top: 40px; }
    table { border-collapse: collapse; margin: 10px 0; }
    table, td, th { border: 1px solid black; padding: 5px; }
</style>
</head>
<body>

<h1>Ejercicios 1–9 ALberto Garcia Quintana</h1>

<h2>Ejercicio 1 – Nombres ordenados</h2>
<ul id="ej1"></ul>

<h2>Ejercicio 2 – Matriz 4×5 (números aleatorios)</h2>
<div id="ej2"></div>

<h2>Ejercicio 3 – Tabla 100×100 (primeras filas)</h2>
<div id="ej3"></div>

<h2>Ejercicio 4 – Tabla 100×100 +2</h2>
<div id="ej4"></div>

<h2>Ejercicio 5 – Tabla 3D (ejemplo tabla3D[2][3][4])</h2>
<p id="ej5"></p>

<h2>Ejercicio 7 – Media por años</h2>
<div id="ej7"></div>

<h2>Ejercicio 8 – Tabla HTML generada desde array</h2>
<div id="ej8"></div>

<h2>Ejercicio 9 – Solución sistema Ax=B</h2>
<p id="ej9"></p>

<script>
// ====================================================
// EJERCICIO 1
// ====================================================
var datos = [];
datos[0] = ["Cristina","Seguridad",24];
datos[1] = ["Catalina","Bases de Datos",17];
datos[2] = ["Vieites","Sistemas Informáticos",28];
datos[3] = ["Benjamin","Redes",26];

var nombresOrdenados = datos.map(x => x[0]).sort();

// Mostrar nombres
let lista = document.getElementById("ej1");
nombresOrdenados.forEach(n => {
    let li = document.createElement("li");
    li.textContent = n;
    lista.appendChild(li);
});

// ====================================================
// EJERCICIO 2
// ====================================================
var matriz = [];
for (let i = 0; i < 4; i++) {
    matriz[i] = [];
    for (let j = 0; j < 5; j++) {
        matriz[i][j] = Math.floor(Math.random() * 10);
    }
}

// Mostrar matriz
document.getElementById("ej2").innerHTML = crearTabla(matriz);

// ====================================================
// EJERCICIO 3
// ====================================================
var tabla = [];
for (var i = 1; i <= 100; i++) {
    tabla[i] = [];
    for (var j = 1; j <= 100; j++) {
        tabla[i][j] = i * j;
    }
}

// Mostrar primeras 5 filas
document.getElementById("ej3").innerHTML = crearTabla(tabla.slice(1, 6));

// ====================================================
// EJERCICIO 4
// ====================================================
var tabla2 = tabla.map(fila => fila.map(n => n + 2));
document.getElementById("ej4").innerHTML = crearTabla(tabla2.slice(1, 6));

// ====================================================
// EJERCICIO 5
// ====================================================
var tabla3D = [];
for (let i = 1; i <= 10; i++) {
    tabla3D[i] = [];
    for (let j = 1; j <= 10; j++) {
        tabla3D[i][j] = [];
        for (let k = 1; k <= 10; k++) {
            tabla3D[i][j][k] = i * j * k;
        }
    }
}

document.getElementById("ej5").textContent = "Valor tabla3D[2][3][4] = " + tabla3D[2][3][4];

// ====================================================
// EJERCICIO 6 (solo 2 ciudades de ejemplo)
// ====================================================
var ciudades = [
    [1,"Madrid",3334730,3273049,2882860,3120732,3188297,3146071,"Comunidad de Madrid"],
    [2,"Barcelona",1664182,1619337,1496266,1707286,1754900,1745142,"Cataluña"]
];

// ====================================================
// EJERCICIO 7 – Media por años
// ====================================================
function mediaPorAnios(datos) {
    var medias = [];
    for (let col = 2; col <= 7; col++) {
        let suma = 0;
        for (let fila = 0; fila < datos.length; fila++) {
            suma += datos[fila][col];
        }
        medias.push(suma / datos.length);
    }
    return medias;
}

document.getElementById("ej7").innerHTML = crearTabla([mediaPorAnios(ciudades)]);

// ====================================================
// EJERCICIO 8 – Tabla HTML desde array
// ====================================================
function crearTabla(arr) {
    let html = "<table>";
    arr.forEach(fila => {
        html += "<tr>";
        fila.forEach(celda => {
            html += "<td>" + celda + "</td>";
        });
        html += "</tr>";
    });
    html += "</table>";
    return html;
}

document.getElementById("ej8").innerHTML = crearTabla(ciudades);

// ====================================================
// EJERCICIO 9 – Resolver Ax=B
// ====================================================
function resolverSistema(A, B) {
    function det(m) {
        return m[0][0]*(m[1][1]*m[2][2] - m[1][2]*m[2][1]) -
               m[0][1]*(m[1][0]*m[2][2] - m[1][2]*m[2][0]) +
               m[0][2]*(m[1][0]*m[2][1] - m[1][1]*m[2][0]);
    }
    var d = det(A);
    if (d === 0) return ["No invertible"];

    function adjunta(m) {
        return [
            [
                (m[1][1]*m[2][2] - m[1][2]*m[2][1]),
                -(m[0][1]*m[2][2] - m[0][2]*m[2][1]),
                (m[0][1]*m[1][2] - m[0][2]*m[1][1])
            ],
            [
                -(m[1][0]*m[2][2] - m[1][2]*m[2][0]),
                (m[0][0]*m[2][2] - m[0][2]*m[2][0]),
                -(m[0][0]*m[1][2] - m[0][2]*m[1][0])
            ],
            [
                (m[1][0]*m[2][1] - m[1][1]*m[2][0]),
                -(m[0][0]*m[2][1] - m[0][1]*m[2][0]),
                (m[0][0]*m[1][1] - m[0][1]*m[1][0])
            ]
        ];
    }

    var adj = adjunta(A);
    var inv = adj.map(f => f.map(x => x / d));

    var x = [
        inv[0][0]*B[0][0] + inv[0][1]*B[1][0] + inv[0][2]*B[2][0],
        inv[1][0]*B[0][0] + inv[1][1]*B[1][0] + inv[1][2]*B[2][0],
        inv[2][0]*B[0][0] + inv[2][1]*B[1][0] + inv[2][2]*B[2][0]
    ];
    return x;
}

var A = [[2,1,3],[1,0,2],[3,2,1]];
var B = [[1],[2],[3]];
var sol = resolverSistema(A,B);

document.getElementById("ej9").textContent = "Solución: [" + sol.join(", ") + "]";
</script>

</body>
</html>
