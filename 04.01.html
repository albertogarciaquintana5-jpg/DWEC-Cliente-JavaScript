<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Práctica 04-01 Arrays</title>
</head>
<body>
    <h1>Práctica 04-01 Arrays</h1>
    <p>Nombre: ALberto</p>
    <p>Apellidos: Garcia Quintana</p>
    <p>Curso: DWEC</p>
    <p>Fecha: 13/11/2025</p>

    <!-- Ejercicio 1 -->
    <div>
        <h2>Ejercicio 1</h2>
        <p>50 números random con mayor, menor y media</p>
        <button onclick="ejercicio1()">Ejecutar Ejercicio 1</button>
        <div id="resultado1"></div>
    </div>

    <!-- Ejercicio 2 -->
    <div>
        <h2>Ejercicio 2</h2>
        <p>50 números random del 1 al 10, ordenados, con moda y mediana</p>
        <button onclick="ejercicio2()">Ejecutar Ejercicio 2</button>
        <div id="resultado2"></div>
    </div>

    <!-- Ejercicio 3 -->
    <div>
        <h2>Ejercicio 3</h2>
        <p>Ejercicio original proporcionado</p>
        <div id="ejercicio3">
            <p>Array X <input type="text" size="60" id="cajal" value="X1,X2,X3,X4,X5"></p>
            <p><input type="button" value="Add Array" onclick="addArrays();"></p>
            <h2><p id="explica"></p></h2>
            <h2 id="tamano"></h2>
        </div>
    </div>

    <!-- Ejercicio 4 y 5 -->
    <div>
        <h2>Ejercicios 4 y 5</h2>
        <p>Añadir datos a un array y ordenarlos</p>
        <input type="text" id="dato">
        <button onclick="agregarDato()">Agregar</button>
        <button onclick="ordenarDatos()">Ordenar</button>
        <p>Array actual:</p>
        <ul id="listaDatos"></ul>
    </div>

    <!-- Ejercicio 6 -->
    <div>
        <h2>Ejercicio 6</h2>
        <p>Mayor, menor y media de un vector</p>
        <input type="text" id="vectorNumeros" placeholder="Ingresa números separados por comas">
        <button onclick="calcularEstadisticas()">Calcular</button>
        <div id="resultado6"></div>
    </div>

    <!-- Ejercicio 7 -->
    <div>
        <h2>Ejercicio 7</h2>
        <p>Concatenar dos arrays A y B</p>
        <button onclick="concatenarArrays()">Concatenar Arrays</button>
        <div id="resultado7"></div>
    </div>

    <!-- Ejercicio 8 -->
    <div>
        <h2>Ejercicio 8</h2>
        <p>Concatenar tres arrays de diferente longitud</p>
        <button onclick="concatenarTresArrays()">Concatenar 3 Arrays</button>
        <div id="resultado8"></div>
    </div>

    <!-- Ejercicio 9 -->
    <div>
        <h2>Ejercicio 9</h2>
        <p>Gestión de personal</p>
        
        <h3>Insertar datos</h3>
        <div>
            <input type="number" id="id" placeholder="ID">
            <input type="text" id="nombrePersonal" placeholder="Nombre">
            <input type="text" id="apellido" placeholder="Apellido">
            <input type="date" id="fechaNacimiento" placeholder="Fecha de nacimiento">
            <input type="text" id="puesto" placeholder="Puesto">
            <button onclick="insertarDatos()">Insertar Datos</button>
        </div>
        
        <h3>Mostrar datos</h3>
        <button onclick="mostrarDatos()">Mostrar Todos</button>
        
        <h3>Mostrar un registro</h3>
        <input type="number" id="idBuscar" placeholder="ID a buscar">
        <button onclick="mostrarUnRegistro()">Buscar</button>
        
        <h3>Años activos hasta jubilación</h3>
        <button onclick="calcularAniosActivos()">Calcular Años Activos</button>
        
        <div id="resultado9"></div>
    </div>

    <script>
        // Ejercicio 1
        function ejercicio1() {
            let aNumeros = [];
            for (let index = 0; index < 50; index++) {
                let iRandomNum = Math.floor(Math.random() * 1000);
                aNumeros.push(iRandomNum);
            }

            let iMayor = Math.max(...aNumeros);
            let iMenor = Math.min(...aNumeros);

            let iSuma = 0;
            for (let i = 0; i < aNumeros.length; i++) {
                iSuma += aNumeros[i];
            }
            let iMedia = iSuma / aNumeros.length;

            // Mostrar resultados
            document.getElementById("resultado1").innerHTML = 
                "Array de números: " + aNumeros.join(", ") + "<br>" +
                "Número mayor: " + iMayor + "<br>" +
                "Número menor: " + iMenor + "<br>" +
                "Media: " + iMedia.toFixed(2);
        }

        // Ejercicio 2
        function ejercicio2() {
            let aNumeros2 = [];
            let iSuma2 = 0;

            for (let index = 0; index < 50; index++) {
                let iRandomNum2 = Math.floor(Math.random() * 10) + 1; // Del 1 al 10
                aNumeros2.push(iRandomNum2);
            }
            
            for (let i = 0; i < aNumeros2.length; i++) {
                iSuma2 += aNumeros2[i];
            }
            let iMedia2 = iSuma2 / aNumeros2.length;

            // Calcular moda
            let conteo = {};
            let iModa = null;
            let maxRepeticiones = 0;

            for (let iNum of aNumeros2) {
                conteo[iNum] = (conteo[iNum] || 0) + 1;
                if (conteo[iNum] > maxRepeticiones) {
                    maxRepeticiones = conteo[iNum];
                    iModa = iNum;
                }
            }

            // Calcular mediana
            aNumeros2.sort((a, b) => a - b);
            let mediana;
            let mitad = Math.floor(aNumeros2.length / 2);
            
            if (aNumeros2.length % 2 === 0) {
                mediana = (aNumeros2[mitad - 1] + aNumeros2[mitad]) / 2;
            } else {
                mediana = aNumeros2[mitad];
            }

            document.getElementById("resultado2").innerHTML = 
                "50 Números del 1 al 10 ordenados: " + aNumeros2.join(", ") + "<br>" +
                "Media: " + iMedia2.toFixed(2) + "<br>" +
                "Moda: " + iModa + "<br>" +
                "Mediana: " + mediana;
        }

        // Ejercicio 3
        var arrayX = new Array();
        var arraymix = new Array();

        function addArrays() {
            let arrayXstr = document.getElementById("cajal").value;
            arrayX = arrayXstr.split(',');
            let lx = arrayX.length;

            for (var i = 0; i < lx; i++) { 
                arraymix.push(arrayX[i]);
            }

            let contenidostr = "El contenido del array es " + arraymix.join('-');
            let tamanostr = "El tamaño del array es " + arraymix.length;

            document.getElementById("explica").innerHTML = contenidostr;
            document.getElementById("tamano").innerHTML = tamanostr;
        }

        // Ejercicios 4 y 5
        let arrayDatos = [];

        function agregarDato() {
            let valor = document.getElementById('dato').value;
            if(valor !== "") {
                arrayDatos.push(valor);
                mostrarDatos();
                document.getElementById('dato').value = "";
            }
        }

        function mostrarDatos() {
            let lista = document.getElementById('listaDatos');
            lista.innerHTML = "";
            arrayDatos.forEach((dato) => {
                let li = document.createElement("li");
                li.textContent = dato;
                lista.appendChild(li);
            });
        }

        function ordenarDatos() {
            arrayDatos.sort((a, b) => {
                // Si ambos son números, ordenar numéricamente
                if (!isNaN(a) && !isNaN(b)) {
                    return a - b;
                }
                // Si no, ordenar alfabéticamente
                return a.toString().localeCompare(b.toString());
            });
            mostrarDatos();
        }

        // Ejercicio 6
        function calcularEstadisticas() {
            let input = document.getElementById('vectorNumeros').value;
            let vector = input.split(',').map(num => parseFloat(num.trim()));
            
            if (vector.some(isNaN)) {
                document.getElementById('resultado6').innerHTML = "Por favor, ingresa solo números válidos separados por comas.";
                return;
            }
            
            let mayor = Math.max(...vector);
            let menor = Math.min(...vector);
            let suma = vector.reduce((a, b) => a + b, 0);
            let media = suma / vector.length;
            
            document.getElementById('resultado6').innerHTML = 
                "Vector: " + vector.join(", ") + "<br>" +
                "Mayor: " + mayor + "<br>" +
                "Menor: " + menor + "<br>" +
                "Media: " + media.toFixed(2);
        }

        // Ejercicio 7
        function concatenarArrays() {
            let arrayA = ['A0', 'A1', 'A2', 'A3', 'A4'];
            let arrayB = ['B0', 'B1', 'B2', 'B3', 'B4'];
            let resultado = [];
            
            for (let i = 0; i < arrayA.length; i++) {
                resultado.push(arrayA[i]);
                resultado.push(arrayB[i]);
            }
            
            document.getElementById('resultado7').innerHTML = 
                "Array A: " + arrayA.join(", ") + "<br>" +
                "Array B: " + arrayB.join(", ") + "<br>" +
                "Resultado: " + resultado.join(", ");
        }

        // Ejercicio 8
        function concatenarTresArrays() {
            let arrayX = ['X1', 'X2', 'X3', 'X4', 'X5'];
            let arrayY = ['Y1', 'Y2', 'Y3'];
            let arrayZ = ['Z1', 'Z2', 'Z3', 'Z4', 'Z5', 'Z6', 'Z7', 'Z8'];
            let resultado = [];
            
            let maxLength = Math.max(arrayX.length, arrayY.length, arrayZ.length);
            
            for (let i = 0; i < maxLength; i++) {
                if (i < arrayX.length) resultado.push(arrayX[i]);
                if (i < arrayY.length) resultado.push(arrayY[i]);
                if (i < arrayZ.length) resultado.push(arrayZ[i]);
            }
            
            document.getElementById('resultado8').innerHTML = 
                "Array X: " + arrayX.join(", ") + "<br>" +
                "Array Y: " + arrayY.join(", ") + "<br>" +
                "Array Z: " + arrayZ.join(", ") + "<br>" +
                "Resultado: " + resultado.join("-");
        }

        // Ejercicio 9
        let personal = [];

        function insertarDatos() {
            let id = document.getElementById('id').value;
            let nombre = document.getElementById('nombrePersonal').value;
            let apellido = document.getElementById('apellido').value;
            let fechaNacimiento = document.getElementById('fechaNacimiento').value;
            let puesto = document.getElementById('puesto').value;
            
            // Verificar que todos los campos estén completos
            if (!id || !nombre || !apellido || !fechaNacimiento || !puesto) {
                alert("Por favor, completa todos los campos.");
                return;
            }
            
            // Verificar que el ID no exista
            if (personal.some(persona => persona.id === id)) {
                alert("El ID ya existe. Por favor, usa un ID diferente.");
                return;
            }
            
            // Insertar datos
            personal.push({
                id: id,
                nombre: nombre,
                apellido: apellido,
                fechaNacimiento: fechaNacimiento,
                puesto: puesto
            });
            
            // Limpiar campos
            document.getElementById('id').value = '';
            document.getElementById('nombrePersonal').value = '';
            document.getElementById('apellido').value = '';
            document.getElementById('fechaNacimiento').value = '';
            document.getElementById('puesto').value = '';
            
            alert("Datos insertados correctamente.");
        }

        function mostrarDatos() {
            let resultado = document.getElementById('resultado9');
            resultado.innerHTML = "<h4>Lista de Personal:</h4>";
            
            if (personal.length === 0) {
                resultado.innerHTML += "<p>No hay datos para mostrar.</p>";
                return;
            }
            
            let lista = document.createElement('ul');
            
            personal.forEach(persona => {
                let item = document.createElement('li');
                item.innerHTML = `<strong>ID:</strong> ${persona.id} | 
                                 <strong>Nombre:</strong> ${persona.nombre} ${persona.apellido} | 
                                 <strong>Fecha Nacimiento:</strong> ${persona.fechaNacimiento} | 
                                 <strong>Puesto:</strong> ${persona.puesto}`;
                lista.appendChild(item);
            });
            
            resultado.appendChild(lista);
        }

        function mostrarUnRegistro() {
            let idBuscar = document.getElementById('idBuscar').value;
            let resultado = document.getElementById('resultado9');
            
            if (!idBuscar) {
                resultado.innerHTML = "<p>Por favor, ingresa un ID para buscar.</p>";
                return;
            }
            
            let personaEncontrada = personal.find(persona => persona.id === idBuscar);
            
            if (personaEncontrada) {
                resultado.innerHTML = `<h4>Registro encontrado:</h4>
                                      <p><strong>ID:</strong> ${personaEncontrada.id}</p>
                                      <p><strong>Nombre:</strong> ${personaEncontrada.nombre} ${personaEncontrada.apellido}</p>
                                      <p><strong>Fecha Nacimiento:</strong> ${personaEncontrada.fechaNacimiento}</p>
                                      <p><strong>Puesto:</strong> ${personaEncontrada.puesto}</p>`;
            } else {
                resultado.innerHTML = "<p>No se encontró ningún registro con ese ID.</p>";
            }
        }

        function calcularAniosActivos() {
            let resultado = document.getElementById('resultado9');
            resultado.innerHTML = "<h4>Años activos hasta jubilación:</h4>";
            
            if (personal.length === 0) {
                resultado.innerHTML += "<p>No hay datos para calcular.</p>";
                return;
            }
            
            let lista = document.createElement('ul');
            const EDAD_JUBILACION = 67;
            
            personal.forEach(persona => {
                let fechaNacimiento = new Date(persona.fechaNacimiento);
                let hoy = new Date();
                let edad = hoy.getFullYear() - fechaNacimiento.getFullYear();
                let añosRestantes = EDAD_JUBILACION - edad;
                
                let item = document.createElement('li');
                item.innerHTML = `<strong>${persona.nombre} ${persona.apellido}:</strong> 
                                 ${añosRestantes > 0 ? añosRestantes + ' años restantes' : 'Ya en edad de jubilación'}`;
                lista.appendChild(item);
            });
            
            resultado.appendChild(lista);
        }
    </script>
</body>
</html>